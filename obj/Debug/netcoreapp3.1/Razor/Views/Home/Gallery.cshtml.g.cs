#pragma checksum "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "bc291da0586c454013a9b937ae33a009dd75424b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Gallery), @"mvc.1.0.view", @"/Views/Home/Gallery.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/_ViewImports.cshtml"
using PersonalWebsiteMVC;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/_ViewImports.cshtml"
using PersonalWebsiteMVC.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using Newtonsoft.Json.Linq;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using System.Text;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using PersonalWebsiteRazor.Helpers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using Microsoft.Graph;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"bc291da0586c454013a9b937ae33a009dd75424b", @"/Views/Home/Gallery.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a216c529a09ffee092728e552e04069802bf19ad", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Gallery : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n<h1>Gallery</h1>\r\n\r\n\r\n");
#nullable restore
#line 16 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
 if (http.HttpContext.Request.Query.ContainsKey("action"))
{
     // https://github.com/OneDrive/onedrive-data-robot-azure-function/blob/master/AzureFunction/run.csx

     var album = await _Graph.GraphClient().Result.Drives["douglas@douglasmcgregor.co.uk"].Items[http.HttpContext.Request.Query["action"]].Children.Request().Expand("thumbnails").GetAsync();
     var nextPage = Convert.ToInt32(http.HttpContext.Request.Query["page"]) + 1;
     var previousPage = Convert.ToInt32(http.HttpContext.Request.Query["page"]) - 1;
     var currentPage = Convert.ToInt32(http.HttpContext.Request.Query["page"]);

     

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
Write(Html.Raw("<div class='Gallery'>"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                                       ;
     do
     {
          List<DriveItem> pics = album.CurrentPage.ToList();
          int pageSize = 12;

          foreach (var p in pics.Skip(currentPage * pageSize).Take(pageSize))
          {
               foreach (var item in p.Thumbnails)
               {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <img");
            BeginWriteAttribute("src", " src=\"", 1278, "\"", 1300, 1);
#nullable restore
#line 35 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
WriteAttributeValue("", 1284, item.Medium.Url, 1284, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n");
#nullable restore
#line 36 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
               }
          }

          if (album.NextPageRequest != null)
               album = album.NextPageRequest.GetAsync().Result;
          else album = null;
     }
     while (album != null);

     if (http.HttpContext.Request.Query.ContainsKey("page"))
     {
          

#line default
#line hidden
#nullable disable
#nullable restore
#line 47 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
     Write(Html.Raw("<br><br>"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 47 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                               ;
          

#line default
#line hidden
#nullable disable
#nullable restore
#line 48 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
     Write(Html.Raw("<a href='Gallery?action=" + http.HttpContext.Request.Query["action"] + "&page=" + nextPage + "'>Next</a>"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 48 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                                                                                                                               ;
          

#line default
#line hidden
#nullable disable
#nullable restore
#line 49 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
     Write(Html.Raw(" | "));

#line default
#line hidden
#nullable disable
#nullable restore
#line 49 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                          ;
          

#line default
#line hidden
#nullable disable
#nullable restore
#line 50 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
     Write(Html.Raw("<a href='Gallery?action=" + http.HttpContext.Request.Query["action"] + "&page=" + previousPage + "'>Previuos</a>"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 50 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                                                                                                                                       ;
     }
     else
     {
          

#line default
#line hidden
#nullable disable
#nullable restore
#line 54 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
     Write(Html.Raw("<br><br>"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 54 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                               ;
          

#line default
#line hidden
#nullable disable
#nullable restore
#line 55 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
     Write(Html.Raw("<a href='Gallery?action=" + http.HttpContext.Request.Query["action"] + "&page=2'>Next</a>"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 55 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                                                                                                                ;
     }
     

#line default
#line hidden
#nullable disable
#nullable restore
#line 57 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
Write(Html.Raw("</div>"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 57 "/Volumes/NEW VOLUME/Websites/csharp/Core/PersonalWebsiteMVC/Views/Home/Gallery.cshtml"
                        ;
}
else
{
     string id = "01PTFRO2O4BZ2ACOZGKND2H3VV6RF5DVEG";
     var albums = await _Graph.GraphClient().Result.Drives["douglas@douglasmcgregor.co.uk"].Items[id].Children.Request().GetAsync();
     foreach (var item in albums)
     {
        
     }

}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IGraphSDKHelper _Graph { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IAuthHelper _Auth { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IHttpContextAccessor http { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
